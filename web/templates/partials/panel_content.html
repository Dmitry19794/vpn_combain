<!-- web/templates/partials/panel_content.html -->

<!-- Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° (Real-time) -->
<div class="card">
    <h3>ğŸ“Š Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° (Real-time)</h3>
    
    <div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap:16px;">
        <!-- Scan Jobs -->
        <div style="text-align:center; padding:16px; background:#252525; border-radius:6px;">
            <div style="font-size:2em; font-weight:bold; color:#2196f3;">{{ running_count }}</div>
            <div style="font-size:0.85em; color:#bbb; margin-top:4px;">Active Scans</div>
        </div>
        
        <!-- VPNs Total -->
        <div style="text-align:center; padding:16px; background:#252525; border-radius:6px;">
            <div style="font-size:2em; font-weight:bold; color:#4caf50;">{{ vpn_total }}</div>
            <div style="font-size:0.85em; color:#bbb; margin-top:4px;">Total VPNs</div>
            {% if vpn_status_counts %}
            <div style="font-size:0.7em; color:#888; margin-top:6px;">
                {% for status, count in vpn_status_counts.items() %}
                    <div>{{ status }}: {{ count }}</div>
                {% endfor %}
            </div>
            {% endif %}
        </div>
        
        <!-- Unchecked Addresses -->
        <div style="text-align:center; padding:16px; background:#252525; border-radius:6px;">
            <div style="font-size:2em; font-weight:bold; color:#ff9800;">{{ unchecked_count }}</div>
            <div style="font-size:0.85em; color:#bbb; margin-top:4px;">Unchecked Queue</div>
        </div>
        
        <!-- VPN Checker Status -->
        <div style="text-align:center; padding:16px; background:#252525; border-radius:6px;">
            <div style="font-size:2em; font-weight:bold; color:#64b5f6;">{{ vpn_checker_running }}</div>
            <div style="font-size:0.85em; color:#bbb; margin-top:4px;">VPN Checkers</div>
            <div style="font-size:0.7em; margin-top:6px;">
                {% if vpn_checker_running > 0 %}
                    <span style="color:#4caf50;">ğŸŸ¢ Active</span>
                {% else %}
                    <span style="color:#888;">âšª Idle</span>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<!-- System Status -->
<div class="card">
    <h3>ğŸ–¥ï¸ System Status</h3>
    
    <div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap:12px;">
        <!-- Celery Worker -->
        <div style="padding:12px; background:#252525; border-radius:6px;">
            <div style="font-weight:bold; margin-bottom:6px; color:#90caf9;">Celery Worker</div>
            <div id="celery-status" 
                 hx-get="/celery-status" 
                 hx-trigger="load, every 10s" 
                 hx-swap="innerHTML">
                Loading...
            </div>
        </div>
        
        <!-- Proxy Checker -->
        <div style="padding:12px; background:#252525; border-radius:6px;">
            <div style="font-weight:bold; margin-bottom:6px; color:#a5d6a7;">Proxy Checker</div>
            <div id="proxy-checker-status"
                 hx-get="/proxy-checker-status"
                 hx-trigger="load, every 5s"
                 hx-swap="innerHTML">
                Loading...
            </div>
        </div>
        
        <!-- VPN Checker Details -->
        <div style="padding:12px; background:#252525; border-radius:6px;">
            <div style="font-weight:bold; margin-bottom:6px; color:#ffb74d;">VPN Checker</div>
            <div style="font-size:0.85em;">
                {% if vpn_checker_running > 0 %}
                    <div style="color:#4caf50; margin-bottom:4px;">
                        âœ… {{ vpn_checker_running }} checker(s) running
                    </div>
                    <div style="font-size:0.75em; color:#888;">
                        Processing {{ unchecked_count }} addresses
                    </div>
                {% else %}
                    <div style="color:#888;">
                        âšª No active checkers
                    </div>
                    {% if unchecked_count > 0 %}
                    <div style="font-size:0.75em; color:#ff9800; margin-top:4px;">
                        {{ unchecked_count }} addresses waiting
                    </div>
                    {% endif %}
                {% endif %}
            </div>
        </div>
    </div>
</div>

<!-- Quick Actions - Ğ˜Ğ¡ĞŸĞ ĞĞ’Ğ›Ğ•ĞĞ -->
<div class="card">
    <h3>âš¡ Quick Actions</h3>
    
    <div style="display:flex; gap:8px; flex-wrap:wrap;">
        <button class="btn" 
                style="background:#2e7d32;"
                hx-get="/masscan-content"
                hx-target="#main-content"
                hx-swap="innerHTML">
            ğŸ“¡ Create Scan
        </button>
        
        <button class="btn" 
                style="background:#1976d2;"
                hx-get="/checker-content"
                hx-target="#main-content"
                hx-swap="innerHTML">
            ğŸ” Manage Checkers
        </button>
        
        <button class="btn" 
                style="background:#f57c00;"
                hx-get="/proxy-content"
                hx-target="#main-content"
                hx-swap="innerHTML">
            ğŸ”§ Manage Proxies
        </button>
        
        <button class="btn" 
                style="background:#7b1fa2;"
                hx-get="/vpns-content"
                hx-target="#main-content"
                hx-swap="innerHTML">
            ğŸŒ View VPNs
        </button>
        
        <button class="btn" 
                style="background:#5e35b1;"
                hx-get="/credentials-content"
                hx-target="#main-content"
                hx-swap="innerHTML">
            ğŸ”‘ Credentials
        </button>
    </div>
</div>
